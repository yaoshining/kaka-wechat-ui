function initTabs(){$(document).on("click",".kakaui-navbar__item",function(){var e=$("#"+$(this).data("target"));$(this).addClass("kakaui-bar__item_on").siblings(".kakaui-bar__item_on").removeClass("kakaui-bar__item_on"),e.addClass("kakaui-tab__content_on").siblings(".kakaui-tab__content").removeClass("kakaui-tab__content_on")})}function initActionSheet(){$(document).on("click",".kakaui-actionsheet__trigger",function(){function e(){i=a.find(".kakaui-mask"),a.fadeIn(200),i.on("click",function(){a.fadeOut(200)})}function t(){function e(){a.removeClass("kakaui-actionsheet_toggle"),i.fadeOut(200)}a.addClass("kakaui-actionsheet_toggle"),i.fadeIn(200,function(){$(this).add(".kakaui-actionsheet__cancel").one("click",e)})}var a=$("#"+$(this).data("target")),n=$(this).data("style")||"ios",i=a.siblings(".kakaui-mask");"ios"===n&&t(),"android"===n&&e()})}function initMediaBox(){$(document).on("change",".kakaui-media-box .kakaui-check",function(){$(this).is(":checked")&&$(this).closest(".kakaui-media-box").addClass("selected").siblings(".kakaui-media-box").removeClass("selected")})}function initStyle(e){$(".kakaui-square",e).forEach(function(e){$(e).addClass("child-hidden");var t=$(e).width(),a=$(e).height();t>a&&$(e).height(t),a>t&&$(e).width(a),$(e).removeClass("child-hidden")})}function initDialog(){$(document).on("click",".kakaui-dialog__trigger",function(){var e=$("#"+$(this).data("target"));e.fadeIn(200)}),$(document).on("click",".kakaui-dialog__btn",function(){$(this).parents(".js_dialog").fadeOut(200)})}!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.kakaui=t():e.kakaui=t()}(this,function(){return function(e){function t(n){if(a[n])return a[n].exports;var i=a[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(1),o=n(i),r=a(7),u=n(r),l=a(8),d=n(l),c=a(9),s=n(c),f=a(11),p=n(f),k=a(13),h=n(k),v=a(15),m=n(v),_=a(17),y=n(_),g=a(18),b=n(g),w=a(19),x=n(w),C=a(20),E=n(C),j=a(24),M=a(29),S=n(M);t.default={dialog:o.default,alert:u.default,confirm:d.default,toast:s.default,loading:p.default,actionSheet:h.default,topTips:m.default,searchBar:y.default,tab:b.default,form:x.default,uploader:E.default,picker:j.picker,datePicker:j.datePicker,gallery:S.default},e.exports=t.default},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.default.noop;o.addClass("kakaui-animate-fade-out"),i.addClass("kakaui-animate-fade-out").on("animationend webkitAnimationEnd",function(){n.remove(),c=!1,e()})}var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!c){c=!0;var a=r.default.os.android;t=r.default.extend({title:null,content:"",className:"",buttons:[{label:"确定",type:"primary",onClick:r.default.noop}],isAndroid:a},t);var n=(0,r.default)(r.default.render(l.default,t)),i=n.find(".kakaui-dialog"),o=n.find(".kakaui-mask");return d.append(n),o.addClass("kakaui-animate-fade-in"),i.addClass("kakaui-animate-fade-in"),n.on("click",".kakaui-dialog__btn",function(a){var n=this,i=(0,r.default)(this).index();e(function(){t.buttons[i].onClick&&t.buttons[i].onClick.call(n,a)})}),n.hide=e,n}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(2),r=n(o),u=a(6),l=n(u),d=(0,r.default)("body"),c=void 0;t.default=i,e.exports=t.default},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=this.os={},a=e.match(/(Android);?[\s\/]+([\d.]+)?/);a&&(t.android=!0,t.version=a[2])}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};a(3);var r=a(4),u=n(r),l=a(5),d=n(l);i.call(d.default,navigator.userAgent),(0,u.default)(d.default.fn,{append:function(e){return e instanceof HTMLElement||(e=e[0]),this.forEach(function(t){t.appendChild(e)}),this},remove:function(){return this.forEach(function(e){e.parentNode.removeChild(e)}),this},find:function(e){return(0,d.default)(e,this)},addClass:function(e){return this.forEach(function(t){t.classList.add(e)}),this},removeClass:function(e){return this.forEach(function(t){t.classList.remove(e)}),this},eq:function(e){return(0,d.default)(this[e])},show:function(){return this.forEach(function(e){e.style.display="block"}),this},hide:function(){return this.forEach(function(e){e.style.display="none"}),this},html:function(e){return this.forEach(function(t){t.innerHTML=e}),this},css:function(e){var t=this;return Object.keys(e).forEach(function(a){t.forEach(function(t){t.style[a]=e[a]})}),this},on:function(e,t,a){var n="string"==typeof t&&"function"==typeof a;return n||(a=t),this.forEach(function(i){e.split(" ").forEach(function(e){i.addEventListener(e,function(e){n?this.contains(e.target.closest(t))&&a.call(e.target,e):a.call(this,e)})})}),this},off:function(e,t,a){return"function"==typeof t&&(a=t,t=null),this.forEach(function(n){e.split(" ").forEach(function(e){"string"==typeof t?n.querySelectorAll(t).forEach(function(t){t.removeEventListener(e,a)}):n.removeEventListener(e,a)})}),this},index:function(){var e=this[0],t=e.parentNode;return Array.prototype.indexOf.call(t.children,e)},offAll:function(){var e=this;return this.forEach(function(t,a){var n=t.cloneNode(!0);t.parentNode.replaceChild(n,t),e[a]=n}),this},val:function(){var e=arguments;return arguments.length?(this.forEach(function(t){t.value=e[0]}),this):this[0].value},attr:function(){var e=arguments,t=this;if("object"==o(arguments[0])){var a=function(){var a=e[0],n=t;return Object.keys(a).forEach(function(e){n.forEach(function(t){t.setAttribute(e,a[e])})}),{v:t}}();if("object"===("undefined"==typeof a?"undefined":o(a)))return a.v}return"string"==typeof arguments[0]&&arguments.length<2?this[0].getAttribute(arguments[0]):(this.forEach(function(t){t.setAttribute(e[0],e[1])}),this)}}),(0,u.default)(d.default,{extend:u.default,noop:function(){},render:function(e,t){var a="var p=[],print=function(){p.push.apply(p,arguments);};with(this){p.push('"+e.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');";return new Function(a).apply(t)},getStyle:function(e,t){var a,n=(e.ownerDocument||document).defaultView;return n&&n.getComputedStyle?(t=t.replace(/([A-Z])/g,"-$1").toLowerCase(),n.getComputedStyle(e,null).getPropertyValue(t)):e.currentStyle?(t=t.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()}),a=e.currentStyle[t],/^\d+(em|pt|%|ex)?$/i.test(a)?function(t){var a=e.style.left,n=e.runtimeStyle.left;return e.runtimeStyle.left=e.currentStyle.left,e.style.left=t||0,t=e.style.pixelLeft+"px",e.style.left=a,e.runtimeStyle.left=n,t}(a):a):void 0}}),t.default=d.default,e.exports=t.default},function(e,t){"function"!=typeof Element.prototype.matches&&(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=this,a=(t.document||t.ownerDocument).querySelectorAll(e),n=0;a[n]&&a[n]!==t;)++n;return Boolean(a[n])}),"function"!=typeof Element.prototype.closest&&(Element.prototype.closest=function(e){for(var t=this;t&&1===t.nodeType;){if(t.matches(e))return t;t=t.parentNode}return null})},function(e,t){"use strict";function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function n(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},a=0;a<10;a++)t["_"+String.fromCharCode(a)]=a;var n=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==n.join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}var i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=n()?Object.assign:function(e,t){for(var n,r,u=a(e),l=1;l<arguments.length;l++){n=Object(arguments[l]);for(var d in n)i.call(n,d)&&(u[d]=n[d]);if(Object.getOwnPropertySymbols){r=Object.getOwnPropertySymbols(n);for(var c=0;c<r.length;c++)o.call(n,r[c])&&(u[r[c]]=n[r[c]])}}return u}},function(e,t,a){var n,i;!function(a,o){o=function(e,t,a){function n(i,o,r){return r=Object.create(n.fn),i&&r.push.apply(r,i[t]?[i]:""+i===i?/</.test(i)?((o=e.createElement(o||t)).innerHTML=i,o.children):o?(o=n(o)[0])?o[a](i):r:e[a](i):"function"==typeof i?e.readyState[7]?i():e[t]("DOMContentLoaded",i):i),r}return n.fn=[],n.one=function(e,t){return n(e,t)[0]||null},n}(document,"addEventListener","querySelectorAll"),n=[],i=function(){return o}.apply(t,n),!(void 0!==i&&(e.exports=i))}(this)},function(e,t){e.exports="<div> <div class=kakaui-mask></div> <div class=\"kakaui-dialog <% if(isAndroid){ %> kakaui-skin_android <% } %>\"> <% if(title){ %> <div class=kakaui-dialog__hd><strong class=kakaui-dialog__title><%=title%></strong></div> <% } %> <div class=kakaui-dialog__bd><%=content%></div> <div class=kakaui-dialog__ft> <% for(var i = 0; i < buttons.length; i++){ %> <a href=javascript:; class=\"kakaui-dialog__btn kakaui-dialog__btn_<%=buttons[i]['type']%>\"><%=buttons[i]['label']%></a> <% } %> </div> </div> </div> "},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],a=arguments[2],n="object"===("undefined"==typeof t?"undefined":o(t));n&&(a=t),a=u.default.extend({content:e,buttons:[{label:"确定",type:"primary",onClick:n?u.default.noop:t}]},a),(0,d.default)(a)}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=a(2),u=n(r),l=a(1),d=n(l);t.default=i,e.exports=t.default},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],a=arguments[2],n=arguments[3],i="object"===("undefined"==typeof t?"undefined":o(t));i&&(n=t),n=u.default.extend({content:e,className:"",buttons:[{label:"取消",type:"default",onClick:i?u.default.noop:a},{label:"确定",type:"primary",onClick:i?u.default.noop:t}]},n),(0,d.default)(n)}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=a(2),u=n(r),l=a(1),d=n(l);t.default=i,e.exports=t.default},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!c){c=!0,"number"==typeof t&&(t={duration:t}),"function"==typeof t&&(t={callback:t}),t=r.default.extend({duration:3e3,callback:r.default.noop},t);var a=(0,r.default)(r.default.render(l.default,{content:e}));d.append(a),a.addClass("kakaui-animate-fade-in"),setTimeout(function(){a.addClass("kakaui-animate-fade-out").on("animationend webkitAnimationEnd",function(){a.remove(),c=!1,t.callback()})},t.duration)}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(2),r=n(o),u=a(10),l=n(u),d=(0,r.default)("body"),c=void 0;t.default=i,e.exports=t.default},function(e,t){e.exports='<div> <div class=kakaui-mask_transparent></div> <div class=kakaui-toast> <i class="kakaui-icon_toast kakaui-icon-success-no-circle"></i> <p class=kakaui-toast__content><%=content%></p> </div> </div>'},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(){function e(){a.addClass("kakaui-animate-fade-out").on("animationend webkitAnimationEnd",function(){a.remove(),c=!1})}var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!c){c=!0;var a=(0,r.default)(r.default.render(l.default,{content:t}));return d.append(a),a.addClass("kakaui-animate-fade-in"),a.hide=e,a}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(2),r=n(o),u=a(12),l=n(u),d=(0,r.default)("body"),c=void 0;t.default=i,e.exports=t.default},function(e,t){e.exports='<div class=kakaui-loading_toast> <div class=kakaui-mask_transparent></div> <div class=kakaui-toast> <i class="kakaui-loading kakaui-icon_toast"></i> <p class=kakaui-toast__content><%=content%></p> </div> </div>'},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(){function e(){o.addClass(n?"kakaui-animate-fade-out":"kakaui-animate-slide-down"),u.addClass("kakaui-animate-fade-out").on("animationend webkitAnimationEnd",function(){i.remove(),c=!1})}var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!c){c=!0;var n=r.default.os.android,i=(0,r.default)(r.default.render(l.default,{menus:t,actions:a,isAndroid:n})),o=i.find(".kakaui-actionsheet"),u=i.find(".kakaui-mask");return d.append(i),r.default.getStyle(o[0],"transform"),o.addClass(n?"kakaui-animate-fade-in":"kakaui-animate-slide-up"),u.addClass("kakaui-animate-fade-in").on("click",e),i.find(".kakaui-actionsheet__menu").on("click",".kakaui-actionsheet__cell",function(a){var n=(0,r.default)(this).index();t[n].onClick.call(this,a),e()}),i.find(".kakaui-actionsheet__action").on("click",".kakaui-actionsheet__cell",function(t){var n=(0,r.default)(this).index();a[n].onClick.call(this,t),e()}),i.hide=e,i}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(2),r=n(o),u=a(14),l=n(u),d=(0,r.default)("body"),c=void 0;t.default=i,e.exports=t.default},function(e,t){e.exports='<div class="<% if(isAndroid){ %> kakaui-skin_android <% } %>"> <div class=kakaui-mask></div> <div class=kakaui-actionsheet> <div class=kakaui-actionsheet__menu> <% for(var i = 0; i < menus.length; i++){ %> <div class=kakaui-actionsheet__cell><%= menus[i].label %></div> <% } %> </div> <div class=kakaui-actionsheet__action> <% for(var j = 0; j < actions.length; j++){ %> <div class=kakaui-actionsheet__cell><%= actions[j].label %></div> <% } %> </div> </div> </div> '},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(){n.remove(),a.callback(),c=null}var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"number"==typeof a&&(a={duration:a}),"function"==typeof a&&(a={callback:a}),a=r.default.extend({duration:3e3,callback:r.default.noop},a);var n=(0,r.default)(r.default.render(l.default,{content:e}));return d.append(n),c&&(clearTimeout(c.timeout),c.hide()),c={hide:t},c.timeout=setTimeout(t,a.duration),n.hide=t,n}Object.defineProperty(t,"__esModule",{value:!0});var o=a(2),r=n(o),u=a(16),l=n(u),d=(0,r.default)("body"),c=null;t.default=i,e.exports=t.default},function(e,t){e.exports='<div class="kakaui-toptips kakaui-toptips_warn" style=display:block><%= content %></div>'},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=(0,r.default)(e);return t.forEach(function(e){function t(){i.val(""),a.removeClass("kakaui-search-bar_focusing")}var a=(0,r.default)(e),n=a.find(".kakaui-search-bar__label"),i=a.find(".kakaui-search-bar__input"),o=a.find(".kakaui-icon-clear"),u=a.find(".kakaui-search-bar__cancel-btn");n.on("click",function(){a.addClass("kakaui-search-bar_focusing"),i[0].focus()}),i.on("blur",function(){this.value.length||t()}),o.on("click",function(){i.val(""),i[0].focus()}),u.on("click",function(){t(),i[0].blur()})}),t}Object.defineProperty(t,"__esModule",{value:!0});var o=a(2),r=n(o);t.default=i,e.exports=t.default},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=(0,r.default)(e);return t=r.default.extend({defaultIndex:0,onChange:r.default.noop},t),a.forEach(function(e){var a=(0,r.default)(e),n=a.find(".kakaui-navbar__item, .kakaui-tabbar__item"),i=a.find(".kakaui-tab__content");n.eq(t.defaultIndex).addClass("kakaui-bar__item_on"),i.eq(t.defaultIndex).show(),n.on("click",function(){var e=(0,r.default)(this),a=e.index();n.removeClass("kakaui-bar__item_on"),e.addClass("kakaui-bar__item_on"),i.hide(),i.eq(a).show(),t.onChange.call(this,a)})}),this}Object.defineProperty(t,"__esModule",{value:!0});var o=a(2),r=n(o);t.default=i,e.exports=t.default},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){return e?e.classList.contains("kakaui-cell")?e:i(e.parentNode):null}function o(e,t,a){var n=e[0],i=e.val();if("INPUT"==n.tagName||"TEXTAREA"==n.tagName){var o=n.getAttribute("required")||n.getAttribute("pattern")||"";if("radio"==n.type){for(var r=t.find('input[type="radio"][name="'+n.name+'"]'),u=0,l=r.length;u<l;++u)if(r[u].checked)return null;return"empty"}if("checkbox"!=n.type){if(e.val().length){if(o){if(/^REG_/.test(o)){if(!a)throw"RegExp "+o+" is empty.";if(o=o.replace(/^REG_/,""),!a[o])throw"RegExp "+o+" has not found.";o=a[o]}return new RegExp(o).test(i)?null:"notMatch"}return null}return"empty"}if(!o)return n.checked?null:"empty";var c=function(){var e=t.find('input[type="checkbox"][name="'+n.name+'"]'),a=o.replace(/[{\s}]/g,"").split(","),i=0;if(2!=a.length)throw n.outerHTML+" regexp is wrong.";return e.forEach(function(e){e.checked&&++i}),i?""===a[1]?i>=parseInt(a[0])?{v:null}:{v:"notMatch"}:parseInt(a[0])<=i&&i<=parseInt(a[1])?{v:null}:{v:"notMatch"}:{v:"empty"}}();if("object"===("undefined"==typeof c?"undefined":d(c)))return c.v}else if(i.length)return null;return"empty"}function r(e){if(e){var t=(0,s.default)(e.ele),a=e.msg,n=t.attr(a+"Tips")||t.attr("tips")||t.attr("placeholder");if(n&&(0,p.default)(n),"checkbox"==e.ele.type||"radio"==e.ele.type)return;var o=i(e.ele);o&&o.classList.add("kakaui-cell_warn")}}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.default.noop,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=(0,s.default)(e);return n.forEach(function(e){var n=(0,s.default)(e),i=n.find("[required]");"function"!=typeof t&&(t=r);for(var u=0,l=i.length;u<l;++u){var d=i.eq(u),c=o(d,n,a.regexp),f={ele:d[0],msg:c};if(c)return void(t(f)||r(f))}t(null)}),this}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=(0,s.default)(e);return a.forEach(function(e){var a=(0,s.default)(e);a.find("[required]").on("blur",function(){if("checkbox"!=this.type&&"radio"!=this.type){var e=(0,s.default)(this);if(!(e.val().length<1)){var n=o(e,a,t.regexp);n&&r({ele:e[0],msg:n})}}}).on("focus",function(){var e=i(this);e&&e.classList.remove("kakaui-cell_warn")})}),this}Object.defineProperty(t,"__esModule",{value:!0});var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=a(2),s=n(c),f=a(15),p=n(f);t.default={validate:u,checkIfBlur:l},e.exports=t.default},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){function a(e,t){var a=e.find('[data-id="'+t+'"]'),n=a.find(".kakaui-uploader__file-content");return n.length||(n=(0,r.default)('<div class="kakaui-uploader__file-content"></div>'),a.append(n)),n}function n(e){e.url=o.createObjectURL(e),t.onQueued(e),(0,s.default)(r.default.extend({$uploader:i,file:e},t))}var i=(0,r.default)(e),o=window.URL||window.webkitURL||window.mozURL;t=r.default.extend({url:"",type:"file",fileVal:"file",data:{},onBeforeQueued:r.default.noop,onQueued:r.default.noop,onSuccess:r.default.noop,onProgress:r.default.noop,onError:r.default.noop},t),t.compress!==!1&&(t.compress=r.default.extend({width:1600,height:1600,quality:.8},t.compress)),t.onBeforeQueued&&!function(){var e=t.onBeforeQueued;t.onBeforeQueued=function(t){var a=e.call(t);if(a===!1)return!1;if(a!==!0){var n=(0,r.default)(r.default.render(l.default,{id:t.id}));i.find(".kakaui-uploader__files").append(n)}}}(),t.onQueued&&!function(){var e=t.onQueued;t.onQueued=function(t){e.call(t)||i.find('[data-id="'+t.id+'"]').css({backgroundImage:'url("'+(t.base64||t.url)+'")'})}}(),t.onSuccess&&!function(){var e=t.onSuccess;t.onSuccess=function(t,a){if(!e.call(t,a)){var n=i.find('[data-id="'+t.id+'"]').removeClass("kakaui-uploader__file_status");n.find(".kakaui-uploader__file-content").remove()}}}(),t.onProgress&&!function(){var e=t.onProgress;t.onProgress=function(t,n){e.call(t,n)||a(i,t.id).html(n+"%")}}(),t.onError&&!function(){var e=t.onError;t.onError=function(t,n){e.call(t,n)||a(i,t.id).html('<i class="kakaui-icon-warn"></i>')}}(),i.find("input").on("change",function(e){var a=e.target.files;0!==a.length&&(t.compress===!1&&"file"==t.type?Array.prototype.forEach.call(a,function(e){e.id=++f,t.onBeforeQueued(e)!==!1&&n(e)}):Array.prototype.forEach.call(a,function(e){e.id=++f,t.onBeforeQueued(e)!==!1&&(0,d.compress)(e,t).then(function(e){e&&n(e)})}),this.value="")})}Object.defineProperty(t,"__esModule",{value:!0});var o=a(2),r=n(o),u=a(21),l=n(u),d=a(22),c=a(23),s=n(c),f=0;t.default=i,e.exports=t.default},function(e,t){e.exports='<li class="kakaui-uploader__file kakaui-uploader__file_status" data-id="<%= id %>"> <div class=kakaui-uploader__file-content>0%</div> </li> '},function(e,t){"use strict";function a(e){var t,a=e.naturalHeight,n=document.createElement("canvas");n.width=1,n.height=a;var i=n.getContext("2d");i.drawImage(e,0,0);try{t=i.getImageData(0,0,1,a).data}catch(e){return 1}for(var o=0,r=a,u=a;u>o;){var l=t[4*(u-1)+3];0===l?r=u:o=u,u=r+o>>1}var d=u/a;return 0===d?1:d}function n(e){for(var t=atob(e.split(",")[1]),a=e.split(",")[0].split(":")[1].split(";")[0],n=new ArrayBuffer(t.length),i=new Uint8Array(n),o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return new Blob([n],{type:a})}function i(e,t){return new Promise(function(i){var o=new FileReader;o.onload=function(o){if(t.compress===!1)return e.base64=o.target.result,void i(e);var r=new Image;r.onload=function(){var o=a(r),u=document.createElement("canvas"),l=u.getContext("2d"),d=t.compress.width,c=t.compress.height,s=r.width,f=r.height,p=void 0;if(s<f&&f>c?(s=parseInt(c*r.width/r.height),f=c):s>=f&&s>d&&(f=parseInt(d*r.height/r.width),s=d),u.width=s,u.height=f,l.drawImage(r,0,0,s,f/o),p=/image\/jpeg/.test(e.type)||/image\/jpg/.test(e.type)?u.toDataURL("image/jpeg",t.compress.quality):u.toDataURL(e.type),"file"==t.type)if(/;base64,null/.test(p)||/;base64,$/.test(p))i(e);else{var k=n(p);k.id=e.id,k.name=e.name,k.lastModified=e.lastModified,k.lastModifiedDate=e.lastModifiedDate,i(k)}else/;base64,null/.test(p)||/;base64,$/.test(p)?(t.onError(e,new Error("Compress fail, dataURL is "+p+".")),i()):(e.base64=p,i(e))},r.src=o.target.result},o.readAsDataURL(e)})}Object.defineProperty(t,"__esModule",{value:!0}),t.detectVerticalSquash=a,t.dataURItoBlob=n,t.compress=i},function(e,t){"use strict";function a(e){var t=e.url,a=e.file,n=e.data,i=e.fileVal,o=e.onProgress,r=e.onError,u=e.onSuccess,l=a.name,d=a.type,c=a.size,s=a.lastModifiedDate,f=new FormData,p=new XMLHttpRequest;a.xhr=p,f.append("name",l),f.append("type",d),f.append("lastModifiedDate",s),"file"==e.type?(f.append("size",c),f.append(i,a,l)):(f.append("size",a.base64.length),f.append(i,a.base64)),Object.keys(n).forEach(function(e){f.append(e,n[e])}),p.onreadystatechange=function(){if(4==p.readyState)if(200==p.status)try{var e=JSON.parse(p.responseText);u(a,e)}catch(e){r(a,e)}else r(a,new Error("XMLHttpRequest response status is not 200"))},p.upload.addEventListener("progress",function(e){if(0!=e.total){var t=100*Math.ceil(e.loaded/e.total);o(a,t)}},!1),p.open("POST",t),p.send(f)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a,e.exports=t.default},function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(){function e(t,a){r.find(".kakaui-picker__group").eq(a).scroll({items:t,temp:o[a],onChange:function(t,u){t?i[a]=t.value:i[a]=null,o[a]=u,t.children&&t.children.length>0?(r.find(".kakaui-picker__group").eq(a+1).show(),e(t.children,a+1)):(i[a+1]=null,i.length=a+1,r.find(".kakaui-picker__group").eq(a+1).hide(),n.onChange(i))},onConfirm:n.onConfirm})}var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments[1];if(!v){v=!0;var n=l.default.extend({id:"default",onChange:l.default.noop,onConfirm:l.default.noop},a);g[n.id]=g[n.id]||[];for(var i=[],o=g[n.id],r=(0,l.default)(f.default),u=c.depthOf(t[0]),d="";u--;)d+=k.default;return r.find(".kakaui-picker__bd").html(d),_(r),e(t,0),r.on("click",".kakaui-mask",function(){y(r)}).on("click",".kakaui-picker__action",function(){y(r)}).on("click","#kakaui-picker-confirm",function(){n.onConfirm(i)}),r.hide=function(){y(r)},r}}function r(e){for(var t=l.default.extend({id:"datePicker",onChange:l.default.noop,onConfirm:l.default.noop,start:2e3,end:2030},e),a=[],n=[31,28,31,30,31,30,31,31,30,31,30,31],i=t.start;i<=t.end;i++){var r=[];i%4==0&&i%100!=0||i%400==0?n[1]=29:n[1]=28;for(var u=0;u<12;u++){for(var d=[],c=1;c<n[u]+1;c++){var s={label:c+"日",value:c};d.push(s)}r.push({label:u+1+"月",value:u,children:d})}var f={label:i+"年",value:i,children:r};a.push(f)}o(a,t)}Object.defineProperty(t,"__esModule",{value:!0});var u=a(2),l=i(u);a(25);var d=a(26),c=n(d),s=a(27),f=i(s),p=a(28),k=i(p),h=(0,l.default)("body"),v=void 0,m=function(e){e&&(e.remove(),v=!1)},_=function(e){h.append(e),l.default.getStyle(e[0],"transform"),e.find(".kakaui-mask").addClass("kakaui-animate-fade-in"),e.find(".kakaui-picker").addClass("kakaui-animate-slide-up")},y=function(e){e.find(".kakaui-mask").addClass("kakaui-animate-fade-out"),e.find(".kakaui-picker").addClass("kakaui-animate-slide-down").on("animationend webkitAnimationEnd",function(){m(e)})},g={};t.default={picker:o,datePicker:r},e.exports=t.default},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var i=a(2),o=n(i),r=function(e,t){return e.css({"-webkit-transition":"all "+t+"s",transition:"all "+t+"s"})},u=function(e,t){return e.css({"-webkit-transform":"translate3d(0, "+t+"px, 0)",transform:"translate3d(0, "+t+"px, 0)"})},l=function(e){for(var t=Math.floor(e.length/2),a=0;e[t]&&e[t].disabled;)if(t=++t%e.length,a++,a>e.length)throw new Error("No selectable item.");return t},d=function(e,t,a){var n=l(a);return(e-n)*t},c=function(e,t){return e*t},s=function(e,t,a){return-(t*(a-e-1))};o.default.fn.scroll=function(e){var t=this,a=o.default.extend({items:[],scrollable:".kakaui-picker__content",offset:3,rowHeight:34,onChange:o.default.noop,temp:null,bodyHeight:238},e),n=a.items.map(function(e){return'<div class="kakaui-picker__item'+(e.disabled?" kakaui-picker__item_disabled":"")+'">'+e.label+"</div>"}).join("");(0,o.default)(this).find(".kakaui-picker__content").html(n);var i=(0,o.default)(this).find(a.scrollable),f=void 0,p=void 0,k=void 0,h=void 0,v=[],m=window.innerHeight;if(null!==a.temp&&a.temp<a.items.length){var _=a.temp;a.onChange.call(this,a.items[_],_),h=(a.offset-_)*a.rowHeight}else{var y=l(a.items);a.onChange.call(this,a.items[y],y),h=d(a.offset,a.rowHeight,a.items)}u(i,h);var g=function(e){h+=e,h=Math.round(h/a.rowHeight)*a.rowHeight;var n=c(a.offset,a.rowHeight),o=s(a.offset,a.rowHeight,a.items.length);h>n&&(h=n),h<o&&(h=o);for(var l=a.offset-h/a.rowHeight;a.items[l]&&a.items[l].disabled;)e>0?++l:--l;h=(a.offset-l)*a.rowHeight,r(i,.3),u(i,h),a.onChange.call(t,a.items[l],l)};i=(0,o.default)(this).offAll().on("touchstart",function(e){f=e.changedTouches[0].pageY,k=+new Date}).on("touchmove",function(e){p=e.changedTouches[0].pageY;var t=p-f;r(i,0),u(i,h+t),k=+new Date,v.push({time:k,y:p}),v.length>40&&v.shift(),e.preventDefault()}).on("touchend",function(e){var t=(new Date).getTime();p=e.changedTouches[0].pageY;var n=m-a.bodyHeight/2;if(t-k>100)g(Math.abs(p-f)>10?p-f:n-p);else if(Math.abs(p-f)>10){for(var i=v.length-1,o=i,r=i;r>0&&k-v[r].time<100;r--)o=r;if(o!==i){var u=v[i],l=v[o],d=u.time-l.time,c=u.y-l.y,s=c/d,h=150*s+(p-f);g(h)}else g(0)}else g(n-p)}).find(a.scrollable)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.depthOf=function e(t){var a=1;return t.children&&t.children[0]&&(a=e(t.children[0])+1),a}},function(e,t){e.exports="<div> <div class=kakaui-mask></div> <div class=kakaui-picker> <div class=kakaui-picker__hd> <a href=javascript:; data-action=cancel class=kakaui-picker__action>取消</a> <a href=javascript:; data-action=select class=kakaui-picker__action id=kakaui-picker-confirm>确定</a> </div> <div class=kakaui-picker__bd> </div> </div> </div>"},function(e,t){e.exports="<div class=kakaui-picker__group> <div class=kakaui-picker__mask></div> <div class=kakaui-picker__indicator></div> <div class=kakaui-picker__content></div> </div>"},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(){n.addClass("kakaui-animate-fade-out").on("animationend webkitAnimationEnd",function(){n.remove(),c=!1})}var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!c){c=!0;var n=(0,r.default)(r.default.render(l.default,{url:e}));return a=r.default.extend({onDelete:r.default.noop},a),d.append(n),n.find(".kakaui-gallery__img").on("click",t),n.find(".kakaui-gallery__del").on("click",function(){a.onDelete.call(this,e)}),n.show().addClass("kakaui-animate-fade-in"),n.hide=t,n}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(2),r=n(o),u=a(30),l=n(u),d=(0,r.default)("body"),c=void 0;t.default=i,e.exports=t.default},function(e,t){e.exports='<div class=kakaui-gallery> <span class=kakaui-gallery__img style=background-image:url(<%=url%>)></span> <div class=kakaui-gallery__opr> <a href=javascript: class=kakaui-gallery__del> <i class="kakaui-icon-delete kakaui-icon_gallery-delete"></i> </a> </div> </div> '}])}),$(document).on("page:afterRender",function(e,t){$(".kakaui-check:checked",t).closest(".kakaui-media-box").addClass("selected"),setTimeout(function(){initStyle(t)},0)}),$(function(){initTabs(),initActionSheet(),initMediaBox(),initDialog()});